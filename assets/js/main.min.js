var ACTION_SELECTOR=".suggestionApp-action",CONTENT_WRAPPER_SELECTOR=".suggestionApp-content",FORM_SELECTOR=".suggestionApp-prompts form",NOTICE_SELECTOR=".items-notice",HIDDEN_INPUT_SELECTOR=".hiddenInput",utils=function(){"use strict";var t=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e=function(t,e){for(var n=[],r=e>t?1:-1,i=t;i!=e;i+=r)n.push(i);return n},n=function(t){var e="items-notice_show";$(NOTICE_SELECTOR).html(t),$(NOTICE_SELECTOR).removeClass(e),$(NOTICE_SELECTOR).addClass(e),setTimeout(function(){$(NOTICE_SELECTOR).removeClass(e)},4e3)},r=function(t,e){return t&&t[e]||""},i=function(t,e){return JSON.parse($.ajax({type:"GET",url:t,dataType:"json",global:!1,async:!1,data:e,success:function(t){return t}}).responseText)};return{random_number:t,range:e,display_message:n,get_json:i,get_value:r}}(),random=function(){"use strict";var t={},e=0,n=$(NOTICE_SELECTOR),r=n.data("total"),i=n.data("message")||"";i=i.replace(/\#\{total\}/g,r);var a=".suggestionApp-level",o={Advanced:"rgb(138, 44, 44)",Intermediate:"rgb(170, 170, 28)",Easy:"rgb(31, 145, 36)"},u=function(){var e="random.json";t=utils.get_json(e,{})},s=function(){var n=t[e],u=$("<p>",{text:n.value});$(CONTENT_WRAPPER_SELECTOR).html(u),$(a).text(n.Difficulty),e===r-1&&utils.display_message(i),$.each(o,function(t,e){t===$(a).text()&&$(a).css("background-color",e)}),$(HIDDEN_INPUT_SELECTOR).attr("value",'{\n            "title": "New Pen from The Practice App!",\n            "html": "<!-- '+n.value+' -->"\n        }');var s=100/r*e+"%";$(".progress").css("width",s)},c=function(){$(ACTION_SELECTOR).on("click",function(){e=(e+1)%r,s()}),Mousetrap.bind("right",function(){$(ACTION_SELECTOR).trigger("click")}),Mousetrap.bind("enter",function(){$(FORM_SELECTOR).trigger("submit")})},l=function(){u(),s(),c()};return{init:l}}(),dribbble=function(){"use strict";var t={},e=0,n=11,r=function(){var e="https://api.dribbble.com/v1/shots/",n=utils.random_number(1,29);t=utils.get_json(e,{page:n,access_token:"6ed972085fecb7078ef53a3056562c05de38514ebd7d095b6a84f6dba7743031"})},i=function(){(e>n-1||0===e)&&r(),$(CONTENT_WRAPPER_SELECTOR).empty();var i=t[e],a=$("<img>",{src:i.images.normal}),o=$("<br>"),u=$("<a>",{href:i.html_url,text:i.user.name,target:"_blank"}),s=$("<h3>",{text:i.title+" by "});s.append(u),$(CONTENT_WRAPPER_SELECTOR).append(a,o,s),$(HIDDEN_INPUT_SELECTOR).attr("value",'{\n            "title": "New Pen from The Practice App!",\n            "html": "<img src=\''+i.images.normal+"'/>\"\n        }")},a=function(){$(ACTION_SELECTOR).on("click",function(){e=(e+1)%n,i()}),Mousetrap.bind("right",function(){e=(e+1)%n,i()}),Mousetrap.bind("enter",function(){$(FORM_SELECTOR).trigger("submit")})},o=function(){i(),a()};return{init:o}}(),github=function(){"use strict";var t={},e="#language-select",n=".content-holder",r=0,i=$(NOTICE_SELECTOR).data("total"),a=utils.range(0,i).sort(function(){return Math.random()-.5}),o=0,u=$(NOTICE_SELECTOR).data("message"),s=function(){var n=$(e).val(),r="https://api.github.com/search/issues?q=language:"+encodeURIComponent(n)+"+state:open&page="+a[o];o=(o+1)%i,t=utils.get_json(r,{}),t.items.sort(function(){return Math.random()-.5})},c=function(){(r>i-1||0===r)&&s();var e=t.items[r],a=$("<h3>",{text:utils.get_value(e,"title")}),o=$(marked(utils.get_value(e,"body"))),u=$("<p>",{text:utils.get_value(e,"created_at")});if($(CONTENT_WRAPPER_SELECTOR).html(o).prepend(a).append(u),""!==utils.get_value(e,"pull_request")){var c=$("<p>",{html:marked("Current pull request: "+e.pull_request.html_url)});$(CONTENT_WRAPPER_SELECTOR).append(c)}$("#solve").attr("href",utils.get_value(e,"html_url")),$(n).scrollTop(0).perfectScrollbar("update"),$(CONTENT_WRAPPER_SELECTOR).find("code").each(function(t,e){hljs.highlightBlock(e)})},l=function(){$(e).on("change",function(){s(),c()}),$(ACTION_SELECTOR).on("click",function(){r=(r+1)%i,c()}),Mousetrap.bind("right",function(){$(ACTION_SELECTOR).trigger("click")}),Mousetrap.bind("enter",function(){$("#solve").trigger("click")})},E=function(){utils.display_message(u),c(),l()};return{init:E}}(),core=function(){"use strict";var t=function(){switch($(ACTION_SELECTOR).on("click",function(t){t.preventDefault()}),$("article").attr("class")){case"block-random":random.init();break;case"block-dribbble":dribbble.init();break;case"block-github":github.init()}};return{init:t}}();core.init();